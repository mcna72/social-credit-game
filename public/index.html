<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Social Credit ‚Äî Amsterdam (Three.js)</title>

  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;background:#0b1020;color:#e6fff4;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;overflow:hidden}
    #renderCanvas{position:absolute;inset:0}

    /* HUD */
    #hud{position:fixed;top:16px;left:16px;background:rgba(0,0,0,.75);border:2px solid #00ff88;padding:12px 18px;border-radius:12px;z-index:30}
    #credit{color:#00ff88;font-weight:700;font-size:24px}
    #conn{position:fixed;left:16px;top:78px;background:rgba(0,0,0,.6);border:1px solid #333;border-radius:8px;padding:6px 12px;color:#9fffdc;z-index:30;font-size:13px}

    #weatherInfo{position:fixed;top:16px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.6);border:1px solid #333;border-radius:8px;padding:8px 16px;z-index:30;display:flex;gap:10px;align-items:center}
    #weatherIcon{font-size:20px}

    #minimap{position:fixed;top:16px;right:16px;width:200px;height:200px;background:rgba(0,0,0,.8);border:2px solid #00ff88;border-radius:8px;z-index:30}
    #minimapCanvas{width:100%;height:100%;border-radius:6px}

    #statsPanel{position:fixed;left:16px;top:120px;background:rgba(0,0,0,.65);border:1px solid #333;border-radius:8px;padding:10px 14px;z-index:30;font-size:12px;min-width:160px}
    #statsPanel .stat{display:flex;justify-content:space-between;margin:4px 0;color:#9fd}
    #statsPanel .stat .value{color:#00ff88;font-weight:600}

    #chat{position:fixed;left:16px;bottom:16px;width:min(450px, calc(100vw - 32px));z-index:30}
    #chatlog{background:rgba(0,0,0,.85);border:2px solid #333;height:270px;overflow-y:auto;border-radius:10px 10px 0 0;padding:12px}
    .line{margin:.25rem 0;padding:.35rem .6rem;background:rgba(255,255,255,.04);border-radius:6px;border-left:3px solid #00ff88;color:#fff;font-size:14px}
    .private{border-left-color:#ff8800;background:rgba(255,136,0,.1)}
    .system{border-left-color:#ffaa00;background:rgba(255,170,0,.08);font-style:italic}
    .user{color:#00ff88;font-weight:600;margin-right:4px}
    #chatbox{display:flex;gap:8px;background:rgba(0,0,0,.85);padding:10px;border-radius:0 0 10px 10px;border:2px solid #333;border-top:none}
    #msg{flex:1;padding:12px;border-radius:8px;border:1px solid #444;background:#0d1218;color:#fff}
    #send{padding:10px 18px;border-radius:8px;border:none;background:linear-gradient(135deg,#00ff88,#00cc6f);color:#000;font-weight:700;cursor:pointer}

    #tips{position:fixed;right:16px;bottom:16px;background:rgba(0,0,0,.75);border:2px solid #333;border-radius:10px;padding:14px 18px;max-width:360px;z-index:30}
    #tips h4{color:#00ff88;margin-bottom:8px}
    #tips ul{margin-left:20px;font-size:13px;line-height:1.6}
    #tips li{margin-bottom:4px}

    /* Join overlay */
    #overlay{position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.92);z-index:40}
    #card{background:#0d1218;border:3px solid #00ff88;border-radius:16px;padding:28px;max-width:580px;width:94%;box-shadow:0 0 60px rgba(0,255,136,.35)}
    #card h2{color:#00ff88;font-size:30px;margin-bottom:6px}
    #subtitle{color:#9fd;margin-bottom:16px;font-size:15px}
    #name{width:100%;padding:14px;border:2px solid #333;border-radius:10px;background:#0a0f18;color:#fff;font-size:16px;margin-bottom:12px}
    #avatars{display:grid;grid-template-columns:repeat(auto-fit,minmax(64px,1fr));gap:10px;margin-bottom:14px}
    .av{padding:12px;border:2px solid #333;border-radius:10px;cursor:pointer;text-align:center;font-size:34px;background:rgba(255,255,255,.03)}
    .av.sel{border-color:#00ff88;background:rgba(0,255,136,.15)}
    #startRow{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    #start{padding:12px 22px;border-radius:12px;border:none;background:linear-gradient(135deg,#00ff88,#00cc6f);cursor:pointer;font-weight:700;color:#000}
    #start:disabled{opacity:.4;cursor:not-allowed}
    #lang{padding:6px 10px;border-radius:6px;border:1px solid #333;background:#0a0f18;color:#fff}

    #rightMenu{position:fixed;background:#0d1218;border:2px solid #00ff88;border-radius:10px;padding:8px;display:none;color:#fff;z-index:50;min-width:180px;box-shadow:0 4px 20px rgba(0,0,0,.5)}
    #rightMenu div{padding:10px 14px;cursor:pointer;border-radius:6px}
    #rightMenu div:hover{background:#1a2d3a}
  </style>
</head>
<body>
  <canvas id="renderCanvas"></canvas>

  <div id="hud">Social Credit: <span id="credit">1000</span></div>
  <div id="conn">Connecting...</div>

  <div id="weatherInfo">
    <span id="weatherIcon">‚òÄÔ∏è</span>
    <span id="timeDisplay">12:00</span>
  </div>

  <div id="minimap"><canvas id="minimapCanvas"></canvas></div>

  <div id="statsPanel">
    <div class="stat"><span>Reports:</span><span class="value" id="statReports">0</span></div>
    <div class="stat"><span>Accuracy:</span><span class="value" id="statAccuracy">--</span></div>
    <div class="stat"><span>Players:</span><span class="value" id="statPlayers">0</span></div>
  </div>

  <div id="chat">
    <div id="chatlog"></div>
    <div id="chatbox">
      <input id="msg" placeholder="Typ een bericht‚Ä¶ (Enter)" maxlength="400"/>
      <button id="send">Send</button>
    </div>
    <div id="target">Direct chat: <b id="targetName">Openbaar</b></div>
  </div>

  <div id="tips">
    <h4>‚å®Ô∏è Besturing</h4>
    <ul>
      <li><b>WASD / Pijlen</b> lopen ‚Ä¢ <b>Shift</b> sprint</li>
      <li><b>Muis</b> orbit & zoom ‚Ä¢ Sleep: pan</li>
      <li><b>Rechtsklik avatar</b> ‚Üí priv√©chat / rapporteren</li>
      <li><b>+10</b> beleefd ‚Ä¢ <b>‚àí50</b> ongepast ‚Ä¢ <b>‚àí500</b> doelgerichte belediging</li>
    </ul>
  </div>

  <div id="overlay">
    <div id="card">
      <h2>Social Credit ‚Äî Amsterdam</h2>
      <p id="subtitle">Enhanced Edition ‚Äî Sluit je aan bij het netwerk</p>
      <input id="name" placeholder="Jouw naam..." maxlength="20"/>
      <div id="avatars"></div>
      <div id="startRow">
        <button id="start" disabled>Systeem betreden</button>
        <label id="langLabel">Taal:
          <select id="lang">
            <option value="nl">üá≥üá± Nederlands</option>
            <option value="en">üá¨üáß English</option>
            <option value="de">üá©üá™ Deutsch</option>
          </select>
        </label>
        <a href="/admin.html" style="margin-left:auto;color:#9fd;font-size:13px;text-decoration:none">‚öôÔ∏è Admin</a>
      </div>
    </div>
  </div>

  <div id="rightMenu">
    <div id="actChat">üí¨ Chat met</div>
    <div id="actReport">‚ö†Ô∏è Rapporteer</div>
    <div id="actClear">üîì Zet op Openbaar</div>
  </div>

  <!-- Three.js (ESM) -->
  <script type="module" src="/app.js"></script>
</body>
</html>
